//- Variables used: "user", "active", "childID", "fullName", "sidebarForceHidden"
//- User can be admin, teacher, sysadmin or parent

mixin sidebar_item(link, text)
  if(text==active)
    a(class='active-sidebar-item')= text
  else
    a(class='sidebar-item' href=link)= text

mixin small_item(link, text)
  a(class='sidebar-item smallLogout hidden-sm hidden-md hidden-lg ' href=link)
    span(class= 'glyphicon glyphicon-log-out')= ' ' + text

if sidebarForceHidden
  div(class='sidebar' id='sidebar' style="margin-left: -100%;")
    if(user=="admin")
      a(class='active-sidebar-item' style="background:#B3E5FC;")
      a(class='active-sidebar-item' style="background:#B3E5FC; text-align:center; padding-right:10px; border-bottom: 1px solid rgba(0,0,0,.12);")
        | #{fullName}
      a(class='active-sidebar-item' style="background:#B3E5FC;")
    else if(user=="teacher")
      a(class='active-sidebar-item' style="background:#B3E5FC;")
      a(class='active-sidebar-item' style="background:#B3E5FC; text-align:center; padding-right:10px; border-bottom: 1px solid rgba(0,0,0,.12);")
        | #{fullName}
    else if(user=="parent")
      a(class='active-sidebar-item' style="background:#B3E5FC;")
      a(class='active-sidebar-item' style="background:#B3E5FC; text-align:center; padding-right:10px; border-bottom: 1px solid rgba(0,0,0,.12);")
        | #{fullName}
      a(class='active-sidebar-item' style="background:#B3E5FC;")
    +small_item("/logout", "Log out")

else
  div(class='sidebar' id='sidebar')
    if(user=="admin")
      a(class='active-sidebar-item' style="background:#B3E5FC;")
      a(class='active-sidebar-item' style="background:#B3E5FC; padding-right:10px;")
        | #{fullName}
      a(class='active-sidebar-item' style="background:#B3E5FC; border-bottom: 1px solid rgba(0,0,0,.12);")
      +sidebar_item("/admin/parents", "Manage parents")
      +sidebar_item("/admin/enroll_student", "Enroll student")
      +sidebar_item("/admin/enroll_parent", "Register parent")
      +sidebar_item("/admin/insert_communication", "Insert communication")
      +sidebar_item("/admin/time_table", "Time table composition")
      +sidebar_item("/admin/class", "Class composition")
    else if(user=="teacher")
      a(class='active-sidebar-item' style="background:#B3E5FC;")
      a(class='active-sidebar-item' style="background:#B3E5FC; padding-right:10px;")
        | #{fullName}
      a(class='active-sidebar-item' style="background:#B3E5FC; border-bottom: 1px solid rgba(0,0,0,.12);")
      +sidebar_item("/topics", "Insert daily topic")
    else if(user=="sysadmin")
      +sidebar_item("/sysadmin/register_officer", "Register officer")
      +sidebar_item("/sysadmin/register_teacher", "Register teacher")
      +sidebar_item("/sysadmin/register_principal", "Register principal")
    else if(user=="parent")
      a(class='active-sidebar-item' style="background:#B3E5FC;")
      a(class='active-sidebar-item' style="background:#B3E5FC; padding-right:10px;")
        | #{fullName}
      a(class='active-sidebar-item' style="background:#B3E5FC; border-bottom: 1px solid rgba(0,0,0,.12);")
      +sidebar_item("/parent/parent_home", "Your home")
      +sidebar_item("/parent/"+childID+"/show_courses", "Show courses")
      +sidebar_item("/parent/"+childID+"/notes", "Notes and absences")
      +sidebar_item("/parent/"+childID+"/marks", "Show all marks")
    +small_item("/logout", "Log out")

script
  include scripts.js